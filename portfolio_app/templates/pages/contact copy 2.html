{% block page %}
  <main id="contact" class="page pt-10 sm:pt-28 px-6 sm:px-10">
    <div data-aos="fade-down" data-aos-duration="1000">
      <p class="font-bold font-serif text-3xl mb-3 text-warning">Get in Touch</p>
      <p class="text-xl text-quinary">Have a question or want to collaborate? Drop a message below, and Iâ€™ll get back to you soon.</p>
    </div>

    <div class="py-6 mt-5 flex flex-col sm:flex-row gap-10">
      <!-- Contact Form -->
      <div class="sm:basis-1/2 w-full" data-aos="fade-right" data-aos-duration="1200">
        <form class="flex flex-col gap-4" id="contact-form" method="post">
          {% csrf_token %}

          {% if error %}
            <p class="text-red-500 font-semibold">{{ error }}</p>
          {% endif %}

          <label for="email" class="font-semibold">Leave me your email</label>
          <input id="email" name="email" type="email" placeholder="youremail@domain.com" value="{{ form_data.email|default:'' }}" required class="w-full rounded-xl p-4 bg-gray-800/50 text-white border border-gray-700 focus:ring-2 focus:ring-info focus:outline-none transition-all duration-300 hover:border-secondary focus:border-secondary" />

          <label for="message" class="font-semibold">Your message</label>
          <textarea id="message" name="message" rows="5" required class="w-full rounded-xl p-4 bg-gray-800/50 text-white border border-gray-700 focus:ring-2 focus:ring-info focus:outline-none transition-all duration-300 hover:border-secondary focus:border-secondary">{{ form_data.message|default:'' }}</textarea>

          <button type="submit" class="mt-3 self-start px-6 py-2 text-secondary border border-secondary font-bold rounded-xl hover:bg-secondary hover:text-bg_dark transition-all duration-500">Send</button>
          <button type="submit" class="mt-4 relative overflow-hidden group px-8 py-3 font-bold rounded-full border-2 border-secondary text-secondary hover:text-gray-900 transition-all duration-500 max-w-fit">
            <span class="absolute inset-0 bg-secondary opacity-0 group-hover:opacity-100 transition-opacity duration-500"></span>
            <span class="relative flex items-center gap-2">
              Send Message<svg class="w-4 h-4 group-hover:translate-x-1 transition-transform duration-300" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"></path>
              </svg>
            </span>
          </button>
        </form>
      </div>

      <!-- Image Section -->
      <div class="sm:basis-1/2 flex justify-center items-center" data-aos="fade-left" data-aos-duration="1200">
        <img src="../static/img/path4.png" alt="Profile Illustration" class="rounded-3xl border p-1 h-40 sm:h-72 hover:scale-105 transition-transform duration-700 ease-in-out" />
      </div>
    </div>

    {% include 'components/modal.html' %}
  </main>

  <style>
    input,
    textarea {
      outline: none;
    }
  </style>

  <script>
  document.addEventListener('DOMContentLoaded', () => {
    {% if success %}
      openModal({
        title: 'Thank you',
        content: 'Your message has been sent. I will get back to you soon.',
        onConfirm: () => console.log('Confirmed!'),
      });
    {% endif %}
  });

  function openModal({ title, content, onConfirm }) {
    const modal = document.getElementById('modal');
    const modalTitle = modal.querySelector('.modal-title');
    const modalContent = modal.querySelector('.modal-content');
    const modalConfirmButton = modal.querySelector('.modal-confirm-button');

    modalTitle.textContent = title;
    modalContent.textContent = content;
    modalConfirmButton.onclick = onConfirm;

    modal.style.display = 'block';
  }
</script>
{% endblock %}
